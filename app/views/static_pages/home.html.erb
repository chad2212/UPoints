<% content_for :top_content do %>
    <div class="jumbotron"></div>

    <style>
      table, th {
        border-bottom: 2px solid;
        padding: 10px;
        overflow: hidden;
        white-space: nowrap;
        table-layout: fixed;
        text-overflow: ellipsis;
        width: 100%;
      }
      td {
        border-bottom: 1px solid;
        padding: 10px;
        overflow: hidden;
        white-space: nowrap;
        text-overflow: ellipsis;
      }
    </style>

    <h1>Welcome to UPoints</h1>
    <h3><%= link_to 'List of Requests', requests_path%></h3>


    <div id="Requests">
      <table>
        <thead>
        <tr>
          <th>Rating</th>
          <th>Food Description</th>
          <th>Price</th>
          <th>Date</th>
          <th>Start Time</th>
          <th>End Time</th>
          <th>Location</th>
        </tr>
        </thead>

        <tbody>
        <% @requests.each do |request| %>
            <tr class="highlight">
                <td><%= request.user.accum_poster_rating %></td>
                <td style="max-width:200px;text-overflow:ellipsis"><%= request.food_description %></td>
                <td>$<%= number_with_precision(request.price, :precision => 2) %></td>
                <td><%= request.start_time.strftime("%B %d, %Y") %></td>
                <td><%= request.start_time.strftime('%I:%M %p') %></td>
                <td><%= request.end_time.strftime('%I:%M %p') %></td>
                <td><%= request.location %></td>
            </tr>
        <% end %>
        </tbody>
      </table>
      <br>
    </div>


    <script>
        //        var mouseX;
        //        var mouseY;
        //        $(document).mousemove( function(e) {
        //          mouseX = e.pageX;
        //          mouseY = e.pageY;
        //        });
        $(document).ready(function(){
            $('.highlight').hover(function() {
//                $(this).find('.popup').css({'left':mouseX, 'top':mouseY});
                $(this).find('.popup').show();
            }, function() {
                $(this).find('.popup').hide();
            })
        });


    </script>

<% end %>